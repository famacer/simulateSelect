<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>simulate-select的demo</title>
    <script src="http://a.tbcdn.cn/s/kissy/1.3.0/kissy.js" charset="utf-8"></script>
    <link rel="stylesheet" href="http://g.tbcdn.cn/??tb/global/1.0.5/global-min.css,tb/fp/1.1.4/first-screen-min.css,tb/fp/1.1.4/second-screen-min.css?t=20130711">
    <link href="../simulate.css" rel="stylesheet" />
</head>
<body>
<h2>simulate-select的demo</h2>

<div>
	<div class="simulate-select" id="test1" >
	   <span class="J_simulate_value">出发时间</span><em></em>
	</div>
</div>

<br/>

<div style="margin:  50px 0px;">
	<div class="simulate-select" id="test2">
	
	</div>
	<div id="J_test4" class="simulate-list">
	   <ul>
	        <li class="item J_option" data-value='1'>1</li>
	        <li class="item J_option" data-value='2'>2</li>
	   </ul>
	</div>
</div>
<br/>

<div>
	<select class="simulate-select" id="test3">
	    <option selected>1</option>
	    <option value='2'>2</option>
	    <option value='3'>3</option>
	    <option value='4'>4</option>
	</select>
</div>


<script>
    var S = KISSY;
    S.Config.debug = true;
    if (S.Config.debug) {
        var srcPath = "../../../";
        S.config({
            packages:[
                {
                    name:"gallery",
                    path: srcPath,
                    charset:"utf-8",
                    ignorePackageNameInUri:true
                }
            ]
        });
    }

    S.use('gallery/simulate-select/1.0/index, overlay', function (S, SimulateSelect, overlay) {
         var page = new SimulateSelect({
             selectNode: '#test1',
             options: [{text: '1', value: '1', disabled: true}, {text: '2', value: '2', disabled: false}],
             isShowSelectValue: false,
             name: 'test',
             multi: false,
             isShowSelectBox: false
         });
         
         page.on("changeValue", function(e){
            console.log(e);
            
            console.log(page.getValue());
            
            console.log(page.getSelectedIndex());
         });
         
          console.log(page.getOptionByIndex(1));
         
                  
         
        var page = new SimulateSelect({
             selectNode: '#test2',
             options: '#J_test4',
             isShowSelectBox: false,
             multi: true,
             isShowSelectValue: false,
             value: '2'
         });
         
         
         page.on("changeValue", function(e){
            console.log(e);
            
            console.log(page.getValue());
            
            console.log(page.getSelectedIndex());
         });
         
        console.log(page.getOptionByIndex(1));
         
         var page = new SimulateSelect({
             selectNode: '#test3',
             isShowSelectValue: false
         });
         
         page.on("changeValue", function(e){
            console.log(e);
            
            console.log(page.getValue());
            
            console.log(page.getSelectedIndex());
         });
         
      
         console.log(page.getOptionByIndex(3));
    })
</script>
</body>
</html>
